<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="dsLogs" targetNamespace="http://tempuri.org/dsLogs.xsd" xmlns:mstns="http://tempuri.org/dsLogs.xsd" xmlns="http://tempuri.org/dsLogs.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="1" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Web.config" AppSettingsPropertyName="aprequestConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="aprequestConnectionString (Web.config)" ParameterPrefix="@" PropertyReference="AppConfig.System.Configuration.ConfigurationManager.0.ConnectionStrings.aprequestConnectionString.ConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="Log_TA" GeneratorDataComponentClassName="Log_TA" Name="Log" UserDataComponentName="Log_TA">
            <MainSource>
              <DbSource ConnectionRef="aprequestConnectionString (Web.config)" DbObjectName="aprequest.dbo.activity_log" DbObjectType="Table" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="true" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <DeleteCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>DELETE FROM [dbo].[activity_log] WHERE (([serial] = @Original_serial))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_serial" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="serial" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </DeleteCommand>
                <InsertCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>INSERT INTO [dbo].[activity_log] ([tstamp], [ip_addr], [sessid], [username], [reqstr], [comment], [txn_guid], [dtl_guid], [obj_user]) VALUES (@tstamp, @ip_addr, @sessid, @username, @reqstr, @comment, @txn_guid, @dtl_guid, @obj_user)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="DateTime" Direction="Input" ParameterName="@tstamp" Precision="0" ProviderType="DateTime" Scale="0" Size="0" SourceColumn="tstamp" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@ip_addr" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="ip_addr" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@sessid" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="sessid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@username" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="username" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@reqstr" Precision="0" ProviderType="Text" Scale="0" Size="0" SourceColumn="reqstr" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@comment" Precision="0" ProviderType="Text" Scale="0" Size="0" SourceColumn="comment" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@txn_guid" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="txn_guid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@dtl_guid" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="dtl_guid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@obj_user" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="obj_user" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </InsertCommand>
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>SELECT serial, tstamp, ip_addr, sessid, username, reqstr, comment, txn_guid, dtl_guid, obj_user FROM dbo.activity_log</CommandText>
                    <Parameters />
                  </DbCommand>
                </SelectCommand>
                <UpdateCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="false">
                    <CommandText>UPDATE [dbo].[activity_log] SET [tstamp] = @tstamp, [ip_addr] = @ip_addr, [sessid] = @sessid, [username] = @username, [reqstr] = @reqstr, [comment] = @comment, [txn_guid] = @txn_guid, [dtl_guid] = @dtl_guid, [obj_user] = @obj_user WHERE (([serial] = @Original_serial))</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="DateTime" Direction="Input" ParameterName="@tstamp" Precision="0" ProviderType="DateTime" Scale="0" Size="0" SourceColumn="tstamp" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@ip_addr" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="ip_addr" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@sessid" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="sessid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@username" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="username" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@reqstr" Precision="0" ProviderType="Text" Scale="0" Size="0" SourceColumn="reqstr" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@comment" Precision="0" ProviderType="Text" Scale="0" Size="0" SourceColumn="comment" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@txn_guid" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="txn_guid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@dtl_guid" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="dtl_guid" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="" DataSourceName="" DbType="AnsiString" Direction="Input" ParameterName="@obj_user" Precision="0" ProviderType="VarChar" Scale="0" Size="0" SourceColumn="obj_user" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="" DataSourceName="" DbType="Int64" Direction="Input" ParameterName="@Original_serial" Precision="0" ProviderType="BigInt" Scale="0" Size="0" SourceColumn="serial" SourceColumnNullMapping="false" SourceVersion="Original" />
                    </Parameters>
                  </DbCommand>
                </UpdateCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="serial" DataSetColumn="serial" />
              <Mapping SourceColumn="tstamp" DataSetColumn="tstamp" />
              <Mapping SourceColumn="ip_addr" DataSetColumn="ip_addr" />
              <Mapping SourceColumn="sessid" DataSetColumn="sessid" />
              <Mapping SourceColumn="username" DataSetColumn="username" />
              <Mapping SourceColumn="reqstr" DataSetColumn="reqstr" />
              <Mapping SourceColumn="comment" DataSetColumn="comment" />
              <Mapping SourceColumn="txn_guid" DataSetColumn="txn_guid" />
              <Mapping SourceColumn="dtl_guid" DataSetColumn="dtl_guid" />
              <Mapping SourceColumn="obj_user" DataSetColumn="obj_user" />
            </Mappings>
            <Sources>
              <DbSource ConnectionRef="aprequestConnectionString (Web.config)" DbObjectName="aprequest.dbo.activity_log" DbObjectType="Table" GenerateMethods="Get" GenerateShortCommands="true" GeneratorGetMethodName="Get60From" GeneratorSourceName="FillBy" GetMethodModifier="Public" GetMethodName="Get60From" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="true" UserGetMethodName="Get60From" UserSourceName="Get60From">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT TOP 60 serial, tstamp, ip_addr, sessid, username, reqstr, comment, txn_guid, dtl_guid, obj_user FROM dbo.activity_log WHERE [tstamp] &lt;= @dtLim ORDER BY [tstamp] DESC</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="dtLim" ColumnName="tstamp" DataSourceName="aprequest.dbo.activity_log" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@dtLim" Precision="0" ProviderType="DateTime" Scale="0" Size="8" SourceColumn="tstamp" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </Sources>
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="dsLogs" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:Generator_UserDSName="dsLogs" msprop:Generator_DataSetName="dsLogs" msprop:EnableTableAdapterManager="true">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="Log" msprop:Generator_UserTableName="Log" msprop:Generator_RowDeletedName="LogRowDeleted" msprop:Generator_RowChangedName="LogRowChanged" msprop:Generator_RowClassName="LogRow" msprop:Generator_RowChangingName="LogRowChanging" msprop:Generator_RowEvArgName="LogRowChangeEvent" msprop:Generator_RowEvHandlerName="LogRowChangeEventHandler" msprop:Generator_TableClassName="LogDataTable" msprop:Generator_TableVarName="tableLog" msprop:Generator_RowDeletingName="LogRowDeleting" msprop:Generator_TablePropName="Log">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="serial" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_UserColumnName="serial" msprop:Generator_ColumnVarNameInTable="columnserial" msprop:Generator_ColumnPropNameInRow="serial" msprop:Generator_ColumnPropNameInTable="serialColumn" type="xs:long" />
              <xs:element name="tstamp" msprop:Generator_UserColumnName="tstamp" msprop:Generator_ColumnVarNameInTable="columntstamp" msprop:Generator_ColumnPropNameInRow="tstamp" msprop:Generator_ColumnPropNameInTable="tstampColumn" type="xs:dateTime" />
              <xs:element name="ip_addr" msprop:Generator_UserColumnName="ip_addr" msprop:Generator_ColumnVarNameInTable="columnip_addr" msprop:Generator_ColumnPropNameInRow="ip_addr" msprop:Generator_ColumnPropNameInTable="ip_addrColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="16" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="sessid" msprop:Generator_UserColumnName="sessid" msprop:Generator_ColumnVarNameInTable="columnsessid" msprop:Generator_ColumnPropNameInRow="sessid" msprop:Generator_ColumnPropNameInTable="sessidColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="40" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="username" msprop:Generator_UserColumnName="username" msprop:Generator_ColumnVarNameInTable="columnusername" msprop:Generator_ColumnPropNameInRow="username" msprop:Generator_ColumnPropNameInTable="usernameColumn">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="60" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="reqstr" msprop:Generator_UserColumnName="reqstr" msprop:Generator_ColumnVarNameInTable="columnreqstr" msprop:Generator_ColumnPropNameInRow="reqstr" msprop:Generator_ColumnPropNameInTable="reqstrColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="2147483647" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="comment" msprop:Generator_UserColumnName="comment" msprop:Generator_ColumnVarNameInTable="columncomment" msprop:Generator_ColumnPropNameInRow="comment" msprop:Generator_ColumnPropNameInTable="commentColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="2147483647" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="txn_guid" msprop:Generator_UserColumnName="txn_guid" msprop:Generator_ColumnVarNameInTable="columntxn_guid" msprop:Generator_ColumnPropNameInRow="txn_guid" msprop:Generator_ColumnPropNameInTable="txn_guidColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="40" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="dtl_guid" msprop:Generator_UserColumnName="dtl_guid" msprop:Generator_ColumnVarNameInTable="columndtl_guid" msprop:Generator_ColumnPropNameInRow="dtl_guid" msprop:Generator_ColumnPropNameInTable="dtl_guidColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="40" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="obj_user" msprop:Generator_UserColumnName="obj_user" msprop:Generator_ColumnVarNameInTable="columnobj_user" msprop:Generator_ColumnPropNameInRow="obj_user" msprop:Generator_ColumnPropNameInTable="obj_userColumn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="60" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:Log" />
      <xs:field xpath="mstns:serial" />
    </xs:unique>
  </xs:element>
</xs:schema>